<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fastapi websocket server</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <header>
        <h1>Fastapi websocket server</h1>
    </header>
    <main>
        <button id="refresh-button" title="refresh state">
            <span>Refresh State</span>
            <svg fill="currentColor" height="2em" width="2em" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                viewBox="0 0 383.748 383.748" xml:space="preserve">
                <g>
                    <path d="M62.772,95.042C90.904,54.899,137.496,30,187.343,30c83.743,0,151.874,68.13,151.874,151.874h30
                        C369.217,81.588,287.629,0,187.343,0c-35.038,0-69.061,9.989-98.391,28.888C70.368,40.862,54.245,56.032,41.221,73.593
                        L2.081,34.641v113.365h113.91L62.772,95.042z"/>
                    <path d="M381.667,235.742h-113.91l53.219,52.965c-28.132,40.142-74.724,65.042-124.571,65.042
                        c-83.744,0-151.874-68.13-151.874-151.874h-30c0,100.286,81.588,181.874,181.874,181.874c35.038,0,69.062-9.989,98.391-28.888
                        c18.584-11.975,34.707-27.145,47.731-44.706l39.139,38.952V235.742z"/>
                </g>
            </svg>
        </button>
        <div>
            <form id="device-connection-string-form">
                <input id="device-connection-string-input" name="connection-string" type="text" placeholder="device connection string" required>
                <button type="submit">Connect</button>
            </form>
            <div id="connection-status">Not Connected</div>
        </div>
        <div id="mode-change">
            <form id="mode-change-form">
                <label for="select-mode">Select flight mode:</label>
                <select name="mode" id="select-mode" required>
                    <option value="">-- Please choose a flight mode --</option>
                    <option value="STABILIZE">STABILIZE</option>
                    <option value="ALT_HOLD">ALT_HOLD</option>
                    <option value="LAND">LAND</option>
                </select>
                <button type="submit">Change mode</button>
            </form>
            <div>Mode: <span id="current-mode">Unknown</span></div>
        </div>
        <div>
            <button id="arm-button">Arm</button>
            <button id="disarm-button">Disarm</button>
            <span>Status: <span id="arm-status">Disarmed</span></span>
        </div>
        <div id="run-motor">
            <form id="run-motor-form">
                <label for="motor-speed">Motor speed: </label>
                <div id="speed-ranges">
                    <input type="range" id="motor-speed" name="motor-speed"
                        min="1100" max="1800" step="10" value="1100" list="speed-values">
                    <datalist id="speed-values">
                        <option value="1100" label="1100"></option>
                        <option value="1800" label="1800"></option>
                    </datalist>
                </div>
                <input type="number" name="motor-speed" id="motor-speed-value" min="1100" max="1800" step="10" value="1100">
                <input type="number" name="channel" id="servo-channel" value="5">
                <button type="submit">Start motor</button>
                <button id="stop-motor-button">Stop motor</button>
            </form>
            <div>Motor status: <span id="motor-status">Not spinning</span></div>
        </div>

    </main>

    <script defer src="/app.js"></script>
</body>
</html>